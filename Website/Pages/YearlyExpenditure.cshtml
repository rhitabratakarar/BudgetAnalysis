@page
@model Website.Pages.YearlyExpenditureModel
@{
    ViewData["Title"] = "Yearly Expenses";
}

<p>Select the relevant years from the below area 👇</p>
<p><strong>Note: </strong>Hold 'ctrl' to select multiple...</p>

<form method="post" asp-page="/YearlyExpenditure" class="mt-3 mb-5 text-center"> 
    <div class="mb-3 mt-3">
        <select class="form-select" id="" multiple aria-label="Select multiple years..." asp-for="SelectedYears">
            <option selected value="select">-- Select --</option>
            @{
                if (Model.ListOfYearsAvailableInDatabase != null && Model.ListOfYearsAvailableInDatabase.Any())
                {
                    foreach (var year in Model.ListOfYearsAvailableInDatabase)
                    {
                        <option value="@year.YearCode">@year.YearCode</option>
                    }
                }
            }
        </select>
    </div>
    <button class="btn btn-primary" type="submit">Submit</button>
</form>


<div class="yearly-expenditures-section mt-5 mb-5">
    @{
        if (Model.SumOfExpendituresByYears != null && Model.SumOfExpendituresByYears.Any())
        {
            <h2>Total expenditures based on selected years...</h2>
            <ul class="mt-3 list-group">
            @{
                foreach (var kvp in Model.SumOfExpendituresByYears)
                {
                    <li class="list-group-item">
                        <strong>Year @kvp.Key.YearCode: </strong> @kvp.Value
                    </li>
                }
            }
            </ul>
        }
    }
</div>


<div class="pie-chart-section mb-5 mt-5">

</div>